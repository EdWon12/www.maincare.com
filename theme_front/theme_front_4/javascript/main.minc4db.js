function menuColumn(){$("ul.multicolumn").hide(),$("ul.multicolumn li ul").show()}function goRub(){$(".go-rub").each(function(){$loCurrentLi=$(this).closest("li"),$loListLi=$($loCurrentLi.closest("ul")).find("li"),$loListLi.index($loCurrentLi)?$(this).css("display","none"):$(this).click(function(){$(this).parent().parent("ul").hide()})})}function verticalAlignBlocs(){0<$(".caption-container").length&&calcHeightCaption($(".vertical-align"),$(".caption-container")),0<$("figcaption").length&&verticalCaption($(".vertical-align"),$("figcaption")),0<$(".well").find("figcaption").length&&verticalCaptionMobile($(".vertical-align"),$("figcaption")),0<$("blockquote").length&&verticalCaption($(".vertical-align"),$(".caption-container"))}function scrollToSmooth(e){isLG()||isMD()?$("html, body").animate({scrollTop:$(e).offset().top-150},500):(isSM()||isXS())&&$("html, body").animate({scrollTop:$(e).offset().top-100},500)}function stopBodyScrolling(e){!0===e?document.body.addEventListener("touchmove touchstart",freezeVp,!1):document.body.removeEventListener("touchmove touchstart",freezeVp,!1)}$(window).load(function(){(menuColumn(),goRub(),$(".map").rwdImageMaps(),verticalAlignBlocs(),isLG()&&$(".fixed").sticky({topSpacing:120,bottomSpacing:330}),isLG()||isMD())&&equalHeight($(".equal-height"));(isLG()||isMD()||isSM())&&equalHeight($(".equal-height-sm"))}),$(window).ready(function(){$("#div-search").prependTo("header"),0<$(".swiper-sync-content").length&&swiperSyncContent(),$("nav.nav-container").find(".lvl-2").each(function(){0<$(this).find("li[data-multicolumn]").length&&$(this).addClass("multicolumn")}),$("#menu").click(function(){openMenu(),isXS()||isSM()||isMD()?stopBodyScrolling(!0):isLG()&&stopBodyScrolling(!0)}),$("#close").click(function(){closeMenu(),$(".nav-container .nav-links ul li ul").hide(),$(".nav-container .nav-links").find(".rub.active").removeClass("active")}),firstWordColor(),verticalAlignBlocs(),activeInternalLink($(".active-link"));new Swiper(".carousel-home .swiper-container",{pagination:{el:".swiper-pagination",clickable:!0},spaceBetween:0,autoplay:{delay:7e3},speed:1500,loop:!0}),new Swiper(".carousel-social.twitter .swiper-container",{spaceBetween:0,navigation:{nextEl:".swiper-button-next.twitter",prevEl:".swiper-button-prev.twitter"}}),new Swiper(".carousel-social.linkedin .swiper-container",{spaceBetween:0,navigation:{nextEl:".swiper-button-next.linkedin",prevEl:".swiper-button-prev.linkedin"}}),new Swiper(".carousel-download .swiper-container",{navigation:{nextEl:".swiper-button-next-download",prevEl:".swiper-button-prev-download"},slidesPerView:3,spaceBetween:15,breakpoints:{1200:{slidesPerView:2,spaceBetween:15},991:{slidesPerView:3,spaceBetween:15},768:{slidesPerView:3,spaceBetween:15},660:{slidesPerView:2,spaceBetween:15},550:{slidesPerView:1,spaceBetween:15}}}),new Swiper(".news-home .swiper-container",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},slidesPerView:3,spaceBetween:15,breakpoints:{1024:{slidesPerView:2,spaceBetween:15},991:{slidesPerView:2,spaceBetween:15},640:{slidesPerView:1,spaceBetween:15}}});lineTitle();var t=$(".block-grid-container").isotope({itemSelector:".block-grid-item"}),n={numberGreaterThan50:function(){var e=$(this).find(".number").text();return 50<parseInt(e,10)},ium:function(){return $(this).find(".name").text().match(/ium$/)}};$("#filters").on("click","label",function(e){var i=$(this).attr("data-filter");i=n[i]||i,t.isotope({filter:i})}),$("#filters .btn-group").each(function(e,i){var t=$(i);t.on("click","label",function(){t.find(".is-checked").removeClass("is-checked"),$(this).addClass("is-checked")})}),isLG()&&$(".fixed").sticky({topSpacing:120,bottomSpacing:330}),$(".infobulle").css({position:"absolute"}).hide(),$("map > area").each(function(t){$("area").eq(t).bind("click",function(e){$(".infobulle").hide();var i=$(".infobulle").eq(t).outerHeight();$(".infobulle").eq(t).css({top:e.pageY-i-i/2+30+"px",left:e.pageX-100}).fadeIn()})}),$(".infobulle").each(function(){$(this).find(".close").click(function(){$(".infobulle").hide()})}),menuColumn(),goRub(),remindClick(),contactCallBackBehaviour(),blogCallback()}),window.addEventListener("orientationchange",function(){document.location.reload(!0)},!1),$(window).resize(function(){(menuColumn(),goRub(),verticalAlignBlocs(),isLG()&&$(".fixed").sticky({topSpacing:120,bottomSpacing:330}),isLG()||isMD())&&equalHeight($(".equal-height"));(isLG()||isMD()||isSM())&&equalHeight($(".equal-height-sm"));lineTitle(),isLG()&&$(".fixed").sticky({topSpacing:120,bottomSpacing:330}),$(".infobulle").hide(),$(".nav-container .nav-links").find(".rub").each(function(){isSM()||isXS()?$(this).click(function(){$(".nav-container .nav-links").find(".rub").removeClass("active"),$(this).addClass("active"),$(".nav-container .nav-links").find("ul li ul").hide(),$(this).hasClass("multicolumn")&&$(this).css("display","block"),$(this).siblings("ul").show()}):($(this).hover(function(){$(this).hasClass("active")||($(".nav-container .nav-links").find(".rub").removeClass("active"),$(".nav-container .nav-links").find("ul li ul").hide(),$(this).siblings("ul.lvl-2").fadeIn(400,function(){$(this).hasClass("multicolumn")&&$(this).css("display","flex")})),$(this).addClass("active")}),$(this).parent().mouseleave(function(){$(".nav-container .nav-links").find(".rub").removeClass("active"),$(".nav-container .nav-links").find("ul li ul").hide()}))})}),$(window).scroll(function(){0<$(window).scrollTop()&&($("header").addClass("scrolled"),$("body").addClass("scrolled")),$(window).scrollTop()<=0&&($("header").removeClass("scrolled"),$("body").removeClass("scrolled"))});var freezeVp=function(e){e.preventDefault()};function lineTitle(){$(".content-paragraphe .para.para-line h2").each(function(){var e=$(this).outerWidth(),i=($(this).parent().outerWidth()-e)/2;$(this).siblings(".before").width(i),$(this).siblings(".after").width(i)})}function openMenu(){$("html").addClass("nav-is-open"),$("body").addClass("nav-is-open"),$("#menu").parent().addClass("nav-is-open"),$("#menu").hide(),$("#close").show(),hideSearch(),document.ontouchmove=function(e){$("header nav").height()<$(window).height()&&!$(e.target).closest("nav").length&&$("body").hasClass("nav-is-open")&&e.preventDefault()}}function closeMenu(){$("html").removeClass("nav-is-open"),$("body").removeClass("nav-is-open"),$("#close").parent().removeClass("nav-is-open"),$("#close").hide(),$("#menu").show(),hideSearch()}$(".overlay").click(function(){closeMenu()});var $divSearch=$("#div-search");function hideSearch(){$divSearch.is(":visible")&&($divSearch.slideUp(),$(window).scrollTop()<=0&&$("header").removeClass("scrolled"))}function swiperSyncContent(){$(".swiper-sync-content").each(function(t,e){var n=[],o=[],s=$(e),a="swiper-slide-active",l=s.find(".gallery-top"),i=s.find(".gallery-thumbs");1<s.find(".gallery-top .swiper-slide").length?(n[t]=new Swiper(l[0],{loop:!0,centeredSlides:!1,slidesPerView:1,loopedSlides:11,autoHeight:!0,slideActiveClass:a,preventClicks:!1,preventClicksPropagation:!1,slideToClickedSlide:!0,navigation:{nextEl:s.find(".swiper-button-next"),prevEl:s.find(".swiper-button-prev")},pagination:{el:s.find(".swiper-pagination"),clickable:!0}}),n[t].on("click mousedown slideChange",function(){var e=l.find(".embed-responsive iframe"),i=e.attr("src");e.attr("src","").attr("src",i),l.find("video").each(function(){this.pause()}),void 0!==o[t]&&(o[t].slideTo(n[t].realIndex),s.find(".gallery-thumbs ."+a).removeClass(a),$(s.find(".gallery-thumbs .swiper-slide").get(n[t].realIndex)).addClass(a))}),o[t]=new Swiper(i[0],{centeredSlides:!1,slidesPerView:11,loopedSlides:11,spaceBetween:15,slideActiveClass:a,preventClicks:!1,preventClicksPropagation:!1,breakpoints:{1200:{slidesPerView:10},991:{slidesPerView:8},767:{slidesPerView:8}}}),i.on("tap click",function(){n[t].slideTo(o[t].clickedIndex)})):(l.find(".swiper-slide").addClass("slide-selected"),i.hide(),$(e).addClass("no-navigation"))})}function activeInternalLink(e,n){e.on("click",function(e){if("A"!=$(e.target).prop("tagName")){e.preventDefault();var i=$(this).find("a");n&&(i=i.filter(n));var t=i.attr("href");t&&(i.attr("target")?window.open(t):window.location.href=t)}})}function firstWordColor(){$(".word-color").each(function(){$(this).html(function(){var e=$(this).text().trim().split(" "),i=e.shift();return(0<e.length?"<span class='first-word'>"+i+"</span> ":i)+"<span class='black'>"+e.join(" ")+"</span>"})})}function verticalCaption(e,i){e.each(function(){var e=($(this).outerHeight()-$(this).find(i).outerHeight())/2;$(this).find(i).css({top:e})})}function verticalCaptionMobile(e,i){e.each(function(){var e=($(this).outerHeight()-$(this).find(i).outerHeight())/2;$(this).find(i).css({top:e}),isLG()||isMD()||isSM()?$(this).find(i).css({top:e}):$(this).find(i).css({"margin-top":e})})}function calcHeightCaption(e,t){e.each(function(){if(isLG()||isMD()||isSM()){var e=($(this).outerHeight()-$(this).find(t).outerHeight())/2;$(this).find(t).css({top:e})}else{var i=-1*$(this).find(t).outerHeight()/2;$(this).find(t).css({top:i,bottom:"inherit"})}})}function isBreakpoint(e){return $(".device-"+e).is(":visible")}function isXS(){return isBreakpoint("xs")}function isSM(){return isBreakpoint("sm")}function isMD(){return isBreakpoint("md")}function isLG(){return isBreakpoint("lg")}function equalHeight(e){var i=0,t=null;if(e.each(function(){!t&&$(this).data("height-group")&&(t=$(this).data("height-group")),t&&$(this).data("height-group")==t&&i<$(this).outerHeight()?i=$(this).outerHeight():!t&&i<$(this).outerHeight()&&(i=$(this).outerHeight())}),t){var n=e.filter('[data-height-group="'+t+'"]');0<i&&n.outerHeight(i),equalHeight(e=e.not(n))}else 0<i&&e.outerHeight(i)}function remindClick(){var e=$("#buttonRemind"),i=$(".form-header-xs"),t=$("#formRemind"),n=$(".form-close"),o=$(".label-remind").outerWidth()+1;e.css({transform:"translate("+o+"px , -50%)"}),e.on("click",function(){t.addClass("show"),i.addClass("show")}),n.on("click",function(){t.removeClass("show"),i.removeClass("show")})}$("main").click(function(){$("html").removeClass("nav-is-open"),$("body").removeClass("nav-is-open"),hideSearch()}),$("#go-search").click(function(){closeMenu(),$("header").addClass("scrolled"),$divSearch.is(":hidden")?($divSearch.slideDown(),$divSearch.find("#text_search").focus(),$("html").addClass("nav-is-open")):(hideSearch(),$("html").removeClass("nav-is-open"))}),$divSearch.on("click",".close",function(e){hideSearch(),$("html").removeClass("nav-is-open")}),jQuery("img.svg").each(function(){var t=jQuery(this),n=t.attr("id"),o=t.attr("class"),e=t.attr("src");jQuery.get(e,function(e){var i=jQuery(e).find("svg");void 0!==n&&(i=i.attr("id",n)),void 0!==o&&(i=i.attr("class",o+" replaced-svg")),!(i=i.removeAttr("xmlns:a")).attr("viewBox")&&i.attr("height")&&i.attr("width")&&i.attr("viewBox","0 0 "+i.attr("height")+" "+i.attr("width")),t.replaceWith(i)},"xml")}),document.addEventListener("touchmove",function(e){1!==(e=e.originalEvent||e).scale&&e.preventDefault()},!1);var $loPopin=$("#popIn");$loPopin.modal("show"),$("#notPopIn").on("show.bs.modal",function(){$loPopin.modal("hide")}).on("shown.bs.modal",function(){$("body").addClass("modal-open")});var liDaysExpCookie=365;function setCookie(e,i,t){var n=new Date;n.setTime(n.getTime()+24*t*60*60*1e3);var o="expires="+n.toUTCString();document.cookie=e+"="+i+"; "+o+";path=/"}function contactCallBackBehaviour(){var o=$("#formRemind form"),i=o.find(":submit");0<o.length&&(o.on("submit",function(e){e.preventDefault(),e.stopPropagation(),i.prop("disabled",!0),$.ajax({type:"POST",dataType:"json",url:goIdeoportal.getServiceAjaxUrl("contact","ajax_send_mail"),data:o.serialize(),success:function(e){e.messageType&&e.invalidFields&&0===e.invalidFields.length&&(o.hide(),$(e.messageText).insertBefore(o)),e.invalidFields&&("undefined"!=typeof grecaptcha&&grecaptcha.reset(),o.find(".group.has-error").removeClass("has-error"),$.each(e.invalidFields,function(e,i){var t=o.find(':input[name^="'+e+'"]'),n=t.closest(".group");n.addClass("has-error"),n.hasClass("captcha")&&(t=n.find(".g-recaptcha")),t.attr("title",i).tooltip({placement:"bottom",trigger:"manual"}).data("bs.tooltip").tip().addClass("error-form-tooltip"),t.tooltip("show").data("tooltip-init",!0)}))},complete:function(){i.prop("disabled",!1)}})}),$(document).on("click","a.callback-retry",function(){o.show(),$(this).closest(".contact-response").remove()}),o.find(":input").on("focus",function(){$(this).data("tooltip-init")&&$(this).tooltip("hide")}).on("blur",function(){$(this).data("tooltip-init")&&$(this).tooltip("show")}).on("change",function(){$(this).data("tooltip-init")&&$(this).data("tooltip-init",!1)}))}$("#imPro").on("click",function(){setCookie("is_ps","1",liDaysExpCookie)}),$("#imNotPro").on("click",function(){setCookie("is_ps","0",liDaysExpCookie)});var recaptchaCallbackForm=function(){$(".g-recaptcha").data("tooltip-init",!1).tooltip("hide")};function blogCallback(){var e=$(".blog-list .custom-col:first-child");0<e.length&&e.find(".date").insertBefore(e.find(".encart-content h3"))}function formGeneratorCheckFieldsAndEnableSubmit(e){if(null!=e){var i,n=$(document.getElementById(e)),o=n.closest("form").find(":submit")[0];if(void 0!==o)o.disabled=!0,"function"==typeof Event?i=new Event("focusout"):(i=document.createEvent("Event")).initEvent("focusout",!0,!0),document.getElementById(e).dispatchEvent(i),document.getElementById(e).addEventListener("focusout",function(e){var i=n.find('input[type="text"]').filter(function(){return""==$(this).val().replace(/\s/g,"")}),t=n.find('input[type="email"]').filter(function(){return""==$(this).val().replace(/\s/g,"")});i.length||t.length?o.disabled=!0:o.disabled=!1})}}